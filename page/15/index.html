<!doctype html><html lang=ja dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>My Hugo Blog</title><meta name=description content="Blog"><meta name=author content><link rel=canonical href=https://ny-a.github.io/hugo-blog/><link crossorigin=anonymous href=/hugo-blog/assets/css/stylesheet.min.35cd0f65a15cafa92372b8313deef5960aae04b90ad722f2bbf509eb0468137e.css integrity="sha256-Nc0PZaFcr6kjcrgxPe71lgquBLkK1yLyu/UJ6wRoE34=" rel="preload stylesheet" as=style><link rel=icon href=https://ny-a.github.io/hugo-blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ny-a.github.io/hugo-blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ny-a.github.io/hugo-blog/favicon-32x32.png><link rel=apple-touch-icon href=https://ny-a.github.io/hugo-blog/apple-touch-icon.png><link rel=mask-icon href=https://ny-a.github.io/hugo-blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.83.1"><link rel=alternate type=application/rss+xml href=https://ny-a.github.io/hugo-blog/index.xml><meta property="og:title" content="My Hugo Blog"><meta property="og:description" content="Blog"><meta property="og:type" content="website"><meta property="og:url" content="https://ny-a.github.io/hugo-blog/"><meta name=twitter:card content="summary"><meta name=twitter:title content="My Hugo Blog"><meta name=twitter:description content="Blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"My Hugo Blog","url":"https://ny-a.github.io/hugo-blog/","description":"Blog","thumbnailUrl":"https://ny-a.github.io/hugo-blog/favicon.ico","sameAs":[]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://ny-a.github.io/hugo-blog/ accesskey=h title="My Hugo Blog (Alt + H)">My Hugo Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://ny-a.github.io/hugo-blog/archives title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2>ノート PC が突然勝手に起動するようになっていました</h2></header><section class=entry-content><p>しばらく放置していたノート PC を久しぶりに起動しようとしたのですが、 電源ボタンを押しても反応がありませんでした。 放置していた期間中ずっと AC アダプタを接続していたので、電源関係の 問題ではないと思ったのですが、一旦電源を外してみたり、再度接続して 充電が完了するまで待ったりしてみても起動しませんでした。
諦めてしばらく電源ボタンを連打していたら、いつのまにか起動していました。 Arch のアップデートなどを済ませて電源を落としたら、今度はなぜか勝手に 起動するようになってしまいました。 しかも、しばらく放置していると勝手に電源が落ちているようでした。 WoL などは設定していないはずで、マジックパケットなども飛んでいないはずですが、 念のため LAN ケーブルを外して電源だけ接続している状態にしても改善しません でした。
AC アダプタを外したり、閉じた状態にしておけば……と試してみても、一向に 改善しませんでした。 これは電池が空になるまで続くのか……と思っていたのですが、電源を入れたり 切ったりしてみているうちに起きなくなっていました。
今のところどちらの問題も再発はしていないようですが、一体原因は何で、 PC が壊れているのかどうかも分かりませんが、もうしばらく様子を見ようと 思います……。 電源 (少なくとも LED) が消えた状態から勝手に起動するようなロジックが 存在するのでしょうか、それとも外来ノイズか何かでしょうか。</p></section><footer class=entry-footer>May 13, 2020&nbsp;·&nbsp;1 分</footer><a class=entry-link aria-label="post link to ノート PC が突然勝手に起動するようになっていました" href=https://ny-a.github.io/hugo-blog/posts/2020-05/reboot-spontaneously/></a></article><article class=post-entry><header class=entry-header><h2>リプトンブランドの販売権がキーコーヒーにあることを知りました</h2></header><section class=entry-content><p>私はコーヒーより紅茶を飲むことが多く、リプトンのイエローラベルなどを 買うことがあるのですが、値札を見るとキーコーヒーと書いてあったので 調べてみました。
キーコーヒーのニュース を見ると、ユニリーバと販売総代理店契約を結んだと書かれています。
パッケージにも製造者であるユニリーバの記載しかないため、今まで気付き ませんでした。
よく考えるとキーコーヒーのコーヒー(？)もあまり飲んだことがないので、 機会があれば飲んでみたいと思いました。</p></section><footer class=entry-footer>May 12, 2020&nbsp;·&nbsp;1 分</footer><a class=entry-link aria-label="post link to リプトンブランドの販売権がキーコーヒーにあることを知りました" href=https://ny-a.github.io/hugo-blog/posts/2020-05/lipton-keycoffee/></a></article><article class=post-entry><header class=entry-header><h2>マルチアーキテクチャ対応の Docker イメージを作りたい</h2></header><section class=entry-content><p>multi-arch 対応の docker image をビルドしたいと思ったのですが、 docker manifest サブコマンドや docker buildx サブコマンドはまだ experimental な上、manifest を作るには insecure ではない registry が必要そうで、事前のセットアップが少し大変そうで一旦諦めました。
LAN 内に insecure な registry を立てて遊ぼうと思っていたのですが、 目論見が外れた形ですね。きちんと外部に公開して Let’s encrypt で SSL 対応して、認証も……とやってもいいのですが、今は少し元気が足りず……</p></section><footer class=entry-footer>May 11, 2020&nbsp;·&nbsp;1 分</footer><a class=entry-link aria-label="post link to マルチアーキテクチャ対応の Docker イメージを作りたい" href=https://ny-a.github.io/hugo-blog/posts/2020-05/want-to-build-multi-arch-docker-image/></a></article><article class=post-entry><header class=entry-header><h2>veto という英単語</h2></header><section class=entry-content><p>選挙の拒否権といった意味で、ラテン語由来っぽいですね。
言語の学習もエンドレスですね……</p></section><footer class=entry-footer>May 10, 2020&nbsp;·&nbsp;1 分</footer><a class=entry-link aria-label="post link to veto という英単語" href=https://ny-a.github.io/hugo-blog/posts/2020-05/veto/></a></article><article class=post-entry><header class=entry-header><h2>Bugwranglers の訳し方</h2></header><section class=entry-content><p>バグハンター……バグ管理人……バグレポーター……バグレポートのモデレータ……バグのカウボーイ……
バグラングラー(雑)
Trusted User も訳されていない気がするのでそのままでいいかとなりました。</p></section><footer class=entry-footer>May 9, 2020&nbsp;·&nbsp;1 分</footer><a class=entry-link aria-label="post link to Bugwranglers の訳し方" href=https://ny-a.github.io/hugo-blog/posts/2020-05/translation-of-bugwranglers/></a></article><article class=post-entry><header class=entry-header><h2>env -C を知りました</h2></header><section class=entry-content><p>env コマンドってあまり使わないんですが (env 省略して LANG=C ls のようにしがち)、 env コマンドの help を見てみたら -C というオプションを見つけました。
C は chdir の C ですね。(cd /hoge; foo) みたいなことができるということですね。
ちょっと便利だし使いたいとは思いますが、使ってるの見たことないので知名度は かなり低いんじゃないかな……と思っています。</p></section><footer class=entry-footer>May 8, 2020&nbsp;·&nbsp;1 分</footer><a class=entry-link aria-label="post link to env -C を知りました" href=https://ny-a.github.io/hugo-blog/posts/2020-05/env-c/></a></article><article class=post-entry><header class=entry-header><h2>losetup の -P オプションがうまく働いてくれない</h2></header><section class=entry-content><p>前に losetup -fP が便利という記事を書いたような気がするのですが、 今日試したらなぜかうまく動いてくれませんでした。
losetup のデバッグをするのもいいんですが、とりあえず動いてくれないと いちいち offset を計算しないといけなくて面倒だったので、手動で partprobe を呼び出して対応しました。
# losetup -f image.img # partprobe /dev/loop1 という感じでなんとかなってくれると思います。多分。</p></section><footer class=entry-footer>May 7, 2020&nbsp;·&nbsp;1 分</footer><a class=entry-link aria-label="post link to losetup の -P オプションがうまく働いてくれない" href=https://ny-a.github.io/hugo-blog/posts/2020-05/losetup-p-did-not-work-properly/></a></article><article class=post-entry><header class=entry-header><h2>GPG キーをきちんと管理したい</h2></header><section class=entry-content><p>やっと無線アダプタのない RPi を購入したのでそろそろきちんと管理したいのですが、 gpg キーのパスフレーズや暗号化、バックアップのあたりでうまい方法がないか 探しています。
仕事で使うものや OSS で使うものなど、メールアドレスベースで gpg キーを分けて いると、定期的な expiration の更新だけで手間がかかって仕方ありません。 パスフレーズを保存しておくにも gpg にパスフレーズを渡すのが大変そうですし、 パスフレーズなしにしてきちんと暗号化して保管するのも、万一漏れてしまったときの ことを考えてしまって安心できません。
まあ、更新しやすい脆弱なパスフレーズを使っていたら、万一漏れてしまったら ほとんど一緒だと思うんですが……。
あとは RPi でも /boot を除いたディスク暗号化をしておきたいなと思いました。 initramfs あたりの仕組みは x86_64 と同じなようなので、適宜 encrypt フックなどを 使えば達成できそうかなと思っています。</p></section><footer class=entry-footer>May 6, 2020&nbsp;·&nbsp;1 分</footer><a class=entry-link aria-label="post link to GPG キーをきちんと管理したい" href=https://ny-a.github.io/hugo-blog/posts/2020-05/want-to-manage-gpg-key-properly/></a></article><article class=post-entry><header class=entry-header><h2>通信機器の AC アダプタが多すぎる</h2></header><section class=entry-content><p>ONU、TA、スイッチ、外付け HDD ケース……
どれも 12V なのに専用の AC アダプタがついていて、電源タップも 悲惨なことになってきました。
ATX 電源と DC ジャックで電源をまとめようかなと思い始めました。 12V のスイッチング電源を考えていたのですが、ATX 電源の方が安価なのと、 5V が出ているので USB の充電も一緒にまかなえるので、ATX 電源の 方がよさそうに思いました。
……と思っていたら、玄人思考なんかの ATX 電源が品薄になっているよう でした。6月になったら入るかな。</p></section><footer class=entry-footer>May 5, 2020&nbsp;·&nbsp;1 分</footer><a class=entry-link aria-label="post link to 通信機器の AC アダプタが多すぎる" href=https://ny-a.github.io/hugo-blog/posts/2020-05/too-many-ac-adaptors/></a></article><article class=post-entry><header class=entry-header><h2>bluez-alsa-git の最新バージョンが動かない気がします</h2></header><section class=entry-content><p>pulseaudio を避けて bluez-alsa を使っているのですが、bluez-alsa-git の 最新の 2.1.0.r43.g49ad348-1-x86_64 で bluealsa-aplay の再生に問題が あるような気がしました。
とりあえず 2.0.0.r0 に落としたら動いている気がするのでこれで使おうと 思います。 問題切り分けしたいですが、再起動しないと反映しないようなので少し 面倒だなと思いました。</p></section><footer class=entry-footer>May 4, 2020&nbsp;·&nbsp;1 分</footer><a class=entry-link aria-label="post link to bluez-alsa-git の最新バージョンが動かない気がします" href=https://ny-a.github.io/hugo-blog/posts/2020-05/bluez-alsa-git-wont-work/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://ny-a.github.io/hugo-blog/page/14/>« 前のページ</a>
<a class=next href=https://ny-a.github.io/hugo-blog/page/16/>次のページ »</a></nav></footer></main><footer class=footer><span>&copy; 2021 <a href=https://ny-a.github.io/hugo-blog/>My Hugo Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>